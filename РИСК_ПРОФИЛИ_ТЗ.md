# –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï - –†–ò–°–ö –ü–†–û–§–ò–õ–ò

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-20
**–í–µ—Ä—Å–∏—è:** 1.0
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ê–†–•–ò–¢–ï–ö–¢–£–†–ê_–ú–ï–ù–Æ_–¢–ó.txt, –ª–∏—Å—Ç "–ú–µ–Ω—é - –†–∏—Å–∫ –ø—Ä–æ—Ñ–∏–ª–∏" (sheet8.xml, 21KB)

---

## –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–º–µ–Ω—é)
3. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Backend](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-backend)
4. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Frontend](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-frontend)

---

## –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –ª–∏–º–∏—Ç–æ–≤, —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –û—Ü–µ–Ω–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è —Ä–∏—Å–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞ (VaR, Max Drawdown, –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, Beta)
- –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏ —Ä–∏—Å–∫–∞ (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Ä—É—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤
- –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ —Ä–∏—Å–∫–∞

---

## –°–¢–†–£–ö–¢–£–†–ê –ú–ï–ù–Æ

```
‚ö†Ô∏è –†–∏—Å–∫ –ø—Ä–æ—Ñ–∏–ª–∏
   ‚îî‚îÄ key: 'risk-profile'
   ‚îî‚îÄ icon: WarningOutlined

   ‚îú‚îÄ üìä –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞
   ‚îÇ  ‚îî‚îÄ key: 'risk-assessment'
   ‚îÇ
   ‚îî‚îÄ üìÑ –õ–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞
      ‚îî‚îÄ key: 'risk-limits'
```

---

## –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö BACKEND

### 1. –ú–û–î–ï–õ–ò –î–ê–ù–ù–´–• (Django Models)

#### 1.1 RiskMetrics (–ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è)

```python
class RiskMetrics(models.Model):
    """–ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è"""
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    portfolio = models.ForeignKey(Portfolio, on_delete=models.CASCADE, null=True, blank=True)

    # –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    risk_level = models.CharField(max_length=20, choices=[
        ('low', '–ù–∏–∑–∫–∏–π'),
        ('medium', '–°—Ä–µ–¥–Ω–∏–π'),
        ('high', '–í—ã—Å–æ–∫–∏–π')
    ])
    risk_score = models.DecimalField(max_digits=5, decimal_places=2)  # –æ—Ç 0 –¥–æ 10

    # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    var_95 = models.DecimalField(max_digits=15, decimal_places=2)  # Value at Risk (95%)
    var_period = models.CharField(max_length=10, default='1d')  # 1d, 1w, 1m
    max_drawdown = models.DecimalField(max_digits=5, decimal_places=2)  # –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
    volatility = models.DecimalField(max_digits=5, decimal_places=2)  # –≥–æ–¥–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å

    # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    calculated_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        ordering = ['-calculated_at']
        verbose_name = '–ú–µ—Ç—Ä–∏–∫–∞ —Ä–∏—Å–∫–∞'
        verbose_name_plural = '–ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞'
```

#### 1.2 PositionRisk (–†–∏—Å–∫–∏ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º)

```python
class PositionRisk(models.Model):
    """–†–∏—Å–∫–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–∑–∏—Ü–∏—è–º"""
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    position = models.ForeignKey(Position, on_delete=models.CASCADE)

    # –î–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
    ticker = models.CharField(max_length=20)
    instrument_name = models.CharField(max_length=200)
    current_quantity = models.IntegerField()
    market_value = models.DecimalField(max_digits=15, decimal_places=2)
    portfolio_weight = models.DecimalField(max_digits=5, decimal_places=2)  # % –æ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è

    # –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞
    var_95 = models.DecimalField(max_digits=15, decimal_places=2)
    beta = models.DecimalField(max_digits=5, decimal_places=2)
    volatility = models.DecimalField(max_digits=5, decimal_places=2)

    # –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞
    risk_level = models.CharField(max_length=20, choices=[
        ('low', '–ù–∏–∑–∫–∏–π'),
        ('medium', '–°—Ä–µ–¥–Ω–∏–π'),
        ('high', '–í—ã—Å–æ–∫–∏–π')
    ])

    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    sector = models.CharField(max_length=100, blank=True)

    calculated_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        ordering = ['-market_value']
        verbose_name = '–†–∏—Å–∫ –ø–æ–∑–∏—Ü–∏–∏'
        verbose_name_plural = '–†–∏—Å–∫–∏ –ø–æ–∑–∏—Ü–∏–π'
```

#### 1.3 StressTest (–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

```python
class StressTest(models.Model):
    """–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –ø–æ—Ä—Ç—Ñ–µ–ª—è"""
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    portfolio = models.ForeignKey(Portfolio, on_delete=models.CASCADE, null=True, blank=True)

    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞
    scenario_type = models.CharField(max_length=50, choices=[
        ('market_drop_10', '–ü–∞–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 10%'),
        ('market_drop_20', '–ü–∞–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 20%'),
        ('market_drop_30', '–ü–∞–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 30%'),
        ('volatility_2x', '–†–æ—Å—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ 2 —Ä–∞–∑–∞'),
        ('crisis_2008', '–ö—Ä–∏–∑–∏—Å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π 2008'),
        ('custom', '–ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π')
    ])

    # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    market_change = models.DecimalField(max_digits=5, decimal_places=2, null=True, blank=True)
    volatility_change = models.DecimalField(max_digits=5, decimal_places=2, null=True, blank=True)

    # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
    current_portfolio_value = models.DecimalField(max_digits=15, decimal_places=2)
    projected_portfolio_value = models.DecimalField(max_digits=15, decimal_places=2)
    potential_loss = models.DecimalField(max_digits=15, decimal_places=2)
    loss_percentage = models.DecimalField(max_digits=5, decimal_places=2)

    # –î–µ—Ç–∞–ª–∏ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º (JSON)
    position_details = models.JSONField(default=dict)

    created_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        ordering = ['-created_at']
        verbose_name = '–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç'
        verbose_name_plural = '–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã'
```

#### 1.4 RiskLimit (–õ–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞)

```python
class RiskLimit(models.Model):
    """–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞"""
    user = models.ForeignKey(User, on_delete=models.CASCADE)

    # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã
    max_drawdown = models.DecimalField(max_digits=5, decimal_places=2, default=15.0)
    max_position_size = models.DecimalField(max_digits=5, decimal_places=2, default=30.0)
    max_leverage = models.DecimalField(max_digits=5, decimal_places=2, default=1.5)
    max_sector_concentration = models.DecimalField(max_digits=5, decimal_places=2, default=40.0)
    max_var_daily = models.DecimalField(max_digits=15, decimal_places=2, default=50000.0)

    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        verbose_name = '–õ–∏–º–∏—Ç —Ä–∏—Å–∫–∞'
        verbose_name_plural = '–õ–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞'
```

#### 1.5 InstrumentLimit (–õ–∏–º–∏—Ç—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º)

```python
class InstrumentLimit(models.Model):
    """–õ–∏–º–∏—Ç—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º"""
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    ticker = models.CharField(max_length=20)

    max_weight = models.DecimalField(max_digits=5, decimal_places=2)  # % –æ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è
    max_position = models.IntegerField()  # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –ª–æ—Ç–∞—Ö
    stop_loss = models.DecimalField(max_digits=5, decimal_places=2)  # % stop-loss

    current_weight = models.DecimalField(max_digits=5, decimal_places=2, default=0)
    is_violated = models.BooleanField(default=False)

    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        unique_together = ['user', 'ticker']
        verbose_name = '–õ–∏–º–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞'
        verbose_name_plural = '–õ–∏–º–∏—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤'
```

#### 1.6 LimitViolation (–ù–∞—Ä—É—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤)

```python
class LimitViolation(models.Model):
    """–ò—Å—Ç–æ—Ä–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤"""
    user = models.ForeignKey(User, on_delete=models.CASCADE)

    violation_type = models.CharField(max_length=50, choices=[
        ('max_weight', '–ü—Ä–µ–≤—ã—à–µ–Ω –º–∞–∫—Å. –≤–µ—Å'),
        ('max_position', '–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –º–∞–∫—Å. –ø–æ–∑–∏—Ü–∏—è'),
        ('stop_loss', '–î–æ—Å—Ç–∏–≥–Ω—É—Ç stop-loss'),
        ('max_drawdown', '–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –ø—Ä–æ—Å–∞–¥–∫–∞'),
        ('max_leverage', '–ü—Ä–µ–≤—ã—à–µ–Ω–æ –ø–ª–µ—á–æ'),
        ('sector_concentration', '–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Å–µ–∫—Ç–æ—Ä–∞'),
        ('max_var', '–ü—Ä–µ–≤—ã—à–µ–Ω VaR')
    ])

    ticker = models.CharField(max_length=20, blank=True)
    sector = models.CharField(max_length=100, blank=True)

    limit_value = models.DecimalField(max_digits=15, decimal_places=2)
    actual_value = models.DecimalField(max_digits=15, decimal_places=2)

    status = models.CharField(max_length=20, choices=[
        ('active', '–ê–∫—Ç–∏–≤–Ω–æ'),
        ('resolved', '–£—Å—Ç—Ä–∞–Ω–µ–Ω–æ')
    ], default='active')

    detected_at = models.DateTimeField(auto_now_add=True)
    resolved_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        ordering = ['-detected_at']
        verbose_name = '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞'
        verbose_name_plural = '–ù–∞—Ä—É—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤'
```

#### 1.7 RiskNotificationSettings (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

```python
class RiskNotificationSettings(models.Model):
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Ä–∏—Å–∫–∞—Ö"""
    user = models.OneToOneField(User, on_delete=models.CASCADE)

    # –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    email_enabled = models.BooleanField(default=True)
    push_enabled = models.BooleanField(default=True)
    telegram_enabled = models.BooleanField(default=False)
    telegram_chat_id = models.CharField(max_length=100, blank=True)

    # –°–æ–±—ã—Ç–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    notify_limit_violation = models.BooleanField(default=True)
    notify_critical_risk = models.BooleanField(default=True)
    notify_approaching_stop_loss = models.BooleanField(default=True)
    notify_volatility_change = models.BooleanField(default=False)

    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        verbose_name = '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π'
        verbose_name_plural = '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π'
```

---

### 2. API ENDPOINTS

#### 2.1 –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞

```
GET /api/risk/metrics/
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
–û—Ç–≤–µ—Ç: {
    "risk_level": "medium",
    "risk_score": 5.5,
    "var_95": 45000.00,
    "max_drawdown": -8.5,
    "volatility": 18.2,
    "calculated_at": "2025-10-20T10:25:00Z"
}

GET /api/risk/metrics/history/?period=1m
–û–ø–∏—Å–∞–Ω–∏–µ: –ò—Å—Ç–æ—Ä–∏—è –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: period (1w, 1m, 3m, 6m, 1y)
–û—Ç–≤–µ—Ç: [–º–∞—Å—Å–∏–≤ –º–µ—Ç—Ä–∏–∫ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏]

GET /api/risk/positions/
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å —Ä–∏—Å–∫–∏ –ø–æ –≤—Å–µ–º –ø–æ–∑–∏—Ü–∏—è–º
–û—Ç–≤–µ—Ç: [
    {
        "ticker": "SBER",
        "instrument_name": "–°–±–µ—Ä–±–∞–Ω–∫",
        "market_value": 350000.00,
        "portfolio_weight": 35.0,
        "var_95": 15750.00,
        "beta": 1.15,
        "volatility": 22.5,
        "risk_level": "high"
    }
]

GET /api/risk/positions/?risk_level=high
–û–ø–∏—Å–∞–Ω–∏–µ: –§–∏–ª—å—Ç—Ä –ø–æ–∑–∏—Ü–∏–π –ø–æ —É—Ä–æ–≤–Ω—é —Ä–∏—Å–∫–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: risk_level (low, medium, high), sector

GET /api/risk/concentration/
–û–ø–∏—Å–∞–Ω–∏–µ: –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ —Ä–∏—Å–∫–∞
–û—Ç–≤–µ—Ç: {
    "by_sector": {
        "–ù–µ—Ñ—Ç–µ–≥–∞–∑": 45.0,
        "–§–∏–Ω–∞–Ω—Å—ã": 35.0,
        "IT": 20.0
    },
    "by_instrument": {
        "SBER": 35.0,
        "GAZP": 20.0,
        "LKOH": 15.0
    },
    "violations": [
        {
            "type": "sector",
            "name": "–ù–µ—Ñ—Ç–µ–≥–∞–∑",
            "limit": 40.0,
            "actual": 45.0
        }
    ]
}
```

#### 2.2 –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```
POST /api/risk/stress-test/
–û–ø–∏—Å–∞–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: {
    "scenario_type": "market_drop_20",
    "market_change": -20.0,    // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è custom
    "volatility_change": null   // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è custom
}
–û—Ç–≤–µ—Ç: {
    "id": 123,
    "scenario_type": "market_drop_20",
    "current_portfolio_value": 1250000.00,
    "projected_portfolio_value": 1065000.00,
    "potential_loss": -185000.00,
    "loss_percentage": -14.8,
    "position_details": [
        {
            "ticker": "SBER",
            "current_value": 350000,
            "projected_value": 298000,
            "loss": -52000
        }
    ],
    "created_at": "2025-10-20T11:00:00Z"
}

GET /api/risk/stress-test/
–û–ø–∏—Å–∞–Ω–∏–µ: –ò—Å—Ç–æ—Ä–∏—è —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–æ–≤
–û—Ç–≤–µ—Ç: [–º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–æ–≤]

GET /api/risk/stress-test/{id}/
–û–ø–∏—Å–∞–Ω–∏–µ: –î–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
```

#### 2.3 –õ–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞

```
GET /api/risk/limits/global/
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã
–û—Ç–≤–µ—Ç: {
    "max_drawdown": 15.0,
    "max_position_size": 30.0,
    "max_leverage": 1.5,
    "max_sector_concentration": 40.0,
    "max_var_daily": 50000.00,
    "current_values": {
        "drawdown": -3.2,
        "max_position": 35.0,
        "leverage": 1.0,
        "max_sector": 45.0,
        "var": 45000.00
    }
}

PUT /api/risk/limits/global/
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: {
    "max_drawdown": 20.0,
    "max_position_size": 25.0
}

GET /api/risk/limits/instruments/
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å –ª–∏–º–∏—Ç—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º
–û—Ç–≤–µ—Ç: [
    {
        "ticker": "SBER",
        "max_weight": 30.0,
        "max_position": 200,
        "stop_loss": -10.0,
        "current_weight": 35.0,
        "is_violated": true
    }
]

POST /api/risk/limits/instruments/
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å –ª–∏–º–∏—Ç –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: {
    "ticker": "GAZP",
    "max_weight": 25.0,
    "max_position": 150,
    "stop_loss": -12.0
}

PUT /api/risk/limits/instruments/{id}/
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

DELETE /api/risk/limits/instruments/{id}/
–û–ø–∏—Å–∞–Ω–∏–µ: –£–¥–∞–ª–∏—Ç—å –ª–∏–º–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
```

#### 2.4 –ù–∞—Ä—É—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤

```
GET /api/risk/violations/
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: status (active, resolved), period
–û—Ç–≤–µ—Ç: [
    {
        "id": 1,
        "violation_type": "max_weight",
        "ticker": "SBER",
        "limit_value": 30.0,
        "actual_value": 35.0,
        "status": "active",
        "detected_at": "2025-10-20T10:25:00Z"
    }
]

GET /api/risk/violations/history/
–û–ø–∏—Å–∞–Ω–∏–µ: –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: start_date, end_date, violation_type, status

PATCH /api/risk/violations/{id}/resolve/
–û–ø–∏—Å–∞–Ω–∏–µ: –û—Ç–º–µ—Ç–∏—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∫–∞–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–µ
```

#### 2.5 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```
GET /api/risk/notifications/settings/
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

PUT /api/risk/notifications/settings/
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: {
    "email_enabled": true,
    "push_enabled": true,
    "telegram_enabled": true,
    "telegram_chat_id": "123456789",
    "notify_limit_violation": true,
    "notify_critical_risk": true
}
```

#### 2.6 –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

```
GET /api/risk/export/settings/
–û–ø–∏—Å–∞–Ω–∏–µ: –≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ª–∏–º–∏—Ç–æ–≤ –≤ JSON

POST /api/risk/import/settings/
–û–ø–∏—Å–∞–Ω–∏–µ: –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ª–∏–º–∏—Ç–æ–≤ –∏–∑ JSON
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: FormData —Å —Ñ–∞–π–ª–æ–º JSON

GET /api/risk/stress-test/{id}/export/
–û–ø–∏—Å–∞–Ω–∏–µ: –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: format (json, csv, pdf)
```

---

### 3. –ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê

#### 3.1 –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞

```python
# services/risk_calculator.py

class RiskCalculator:
    """–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞"""

    @staticmethod
    def calculate_var(positions, confidence=0.95):
        """–†–∞—Å—á–µ—Ç Value at Risk"""
        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ VaR –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
        pass

    @staticmethod
    def calculate_beta(ticker, benchmark='IMOEX'):
        """–†–∞—Å—á–µ—Ç Beta –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞"""
        pass

    @staticmethod
    def calculate_volatility(ticker, period_days=252):
        """–†–∞—Å—á–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏"""
        pass

    @staticmethod
    def calculate_max_drawdown(portfolio, period_days=30):
        """–†–∞—Å—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ—Å–∞–¥–∫–∏"""
        pass

    @staticmethod
    def calculate_risk_score(metrics):
        """–†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ –±–∞–ª–ª–∞ —Ä–∏—Å–∫–∞ (0-10)"""
        pass
```

#### 3.2 –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
# services/stress_test.py

class StressTestService:
    """–°–µ—Ä–≤–∏—Å —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""

    @staticmethod
    def run_scenario(portfolio, scenario_type, custom_params=None):
        """–ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∞"""
        pass

    @staticmethod
    def apply_market_shock(positions, shock_percentage):
        """–ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–æ–∫ –∫ –ø–æ–∑–∏—Ü–∏—è–º"""
        pass

    @staticmethod
    def calculate_correlations(positions):
        """–†–∞—Å—á–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏"""
        pass
```

#### 3.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–∏–º–∏—Ç–æ–≤

```python
# services/limit_monitor.py

class LimitMonitor:
    """–°–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ª–∏–º–∏—Ç–æ–≤"""

    @staticmethod
    def check_all_limits(user):
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ª–∏–º–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        violations = []

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
        violations.extend(LimitMonitor._check_global_limits(user))

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º
        violations.extend(LimitMonitor._check_instrument_limits(user))

        # –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –æ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö
        for violation in violations:
            LimitViolation.objects.create(**violation)

        return violations

    @staticmethod
    def _check_global_limits(user):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤"""
        pass

    @staticmethod
    def _check_instrument_limits(user):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º"""
        pass
```

#### 3.4 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```python
# services/risk_notifications.py

class RiskNotificationService:
    """–°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Ä–∏—Å–∫–∞—Ö"""

    @staticmethod
    def send_violation_alert(user, violation):
        """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞"""
        settings = user.risknotificationsettings

        if settings.email_enabled and settings.notify_limit_violation:
            RiskNotificationService._send_email(user, violation)

        if settings.push_enabled and settings.notify_limit_violation:
            RiskNotificationService._send_push(user, violation)

        if settings.telegram_enabled and settings.notify_limit_violation:
            RiskNotificationService._send_telegram(user, violation)

    @staticmethod
    def _send_email(user, violation):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ email"""
        pass

    @staticmethod
    def _send_push(user, violation):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""
        pass

    @staticmethod
    def _send_telegram(user, violation):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram"""
        pass
```

---

### 4. –§–û–ù–û–í–´–ï –ó–ê–î–ê–ß–ò (Celery)

```python
# tasks/risk_tasks.py

from celery import shared_task

@shared_task
def calculate_portfolio_risk(user_id):
    """–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞"""
    pass

@shared_task
def monitor_risk_limits(user_id):
    """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–∏–º–∏—Ç–æ–≤ (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)"""
    pass

@shared_task
def update_position_risks():
    """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)"""
    pass

@shared_task
def send_daily_risk_report(user_id):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –æ —Ä–∏—Å–∫–∞—Ö"""
    pass
```

---

### 5. –ü–†–ê–í–ê –î–û–°–¢–£–ü–ê

```python
# permissions.py

class IsRiskOwner(permissions.BasePermission):
    """–¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Ä–∏—Å–∫–∞–º–∏"""

    def has_object_permission(self, request, view, obj):
        return obj.user == request.user
```

---

## –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö FRONTEND

### 1. –°–¢–†–£–ö–¢–£–†–ê –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

```
pages/
‚îú‚îÄ‚îÄ RiskAssessment/          # –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
‚îÇ   ‚îú‚îÄ‚îÄ RiskAssessment.module.scss
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskMetricsCards/      # –ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskDynamicsChart/     # –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ —Ä–∏—Å–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RiskDistributionChart/ # –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PositionRisksTable/    # –¢–∞–±–ª–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StressTestBlock/       # –ë–ª–æ–∫ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RiskConcentration/     # –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏
‚îÇ
‚îî‚îÄ‚îÄ RiskLimits/              # –õ–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞
    ‚îú‚îÄ‚îÄ index.tsx
    ‚îú‚îÄ‚îÄ RiskLimits.module.scss
    ‚îî‚îÄ‚îÄ components/
        ‚îú‚îÄ‚îÄ GlobalLimitsForm/       # –§–æ—Ä–º–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
        ‚îú‚îÄ‚îÄ InstrumentLimitsTable/  # –¢–∞–±–ª–∏—Ü–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º
        ‚îú‚îÄ‚îÄ LimitModal/             # –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        ‚îú‚îÄ‚îÄ ViolationsMonitor/      # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Ä—É—à–µ–Ω–∏–π
        ‚îî‚îÄ‚îÄ NotificationSettings/   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```

---

### 2. –°–¢–†–ê–ù–ò–¶–ê: –û–¶–ï–ù–ö–ê –†–ò–°–ö–ê

#### 2.1 Layout

```tsx
// pages/RiskAssessment/index.tsx

import React, { useState, useEffect } from 'react';
import { Row, Col, Card, Spin } from 'antd';
import RiskMetricsCards from './components/RiskMetricsCards';
import RiskDynamicsChart from './components/RiskDynamicsChart';
import RiskDistributionChart from './components/RiskDistributionChart';
import PositionRisksTable from './components/PositionRisksTable';
import StressTestBlock from './components/StressTestBlock';
import RiskConcentration from './components/RiskConcentration';

const RiskAssessment: React.FC = () => {
    const [loading, setLoading] = useState(true);
    const [riskMetrics, setRiskMetrics] = useState(null);
    const [positions, setPositions] = useState([]);
    const [concentration, setConcentration] = useState(null);

    useEffect(() => {
        fetchRiskData();
    }, []);

    const fetchRiskData = async () => {
        // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
        const [metrics, pos, conc] = await Promise.all([
            fetch('/api/risk/metrics/').then(r => r.json()),
            fetch('/api/risk/positions/').then(r => r.json()),
            fetch('/api/risk/concentration/').then(r => r.json())
        ]);

        setRiskMetrics(metrics);
        setPositions(pos);
        setConcentration(conc);
        setLoading(false);
    };

    if (loading) return <Spin size="large" />;

    return (
        <div className={styles.riskAssessment}>
            {/* –í–µ—Ä—Ö–Ω–∏–π —Ä—è–¥ - –∫–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫ */}
            <RiskMetricsCards metrics={riskMetrics} />

            {/* –°—Ä–µ–¥–Ω–∏–π —Ä—è–¥ - –≥—Ä–∞—Ñ–∏–∫–∏ */}
            <Row gutter={[16, 16]} style={{ marginTop: 24 }}>
                <Col span={12}>
                    <RiskDynamicsChart />
                </Col>
                <Col span={12}>
                    <RiskDistributionChart positions={positions} />
                </Col>
            </Row>

            {/* –¢–∞–±–ª–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º */}
            <Card style={{ marginTop: 24 }}>
                <PositionRisksTable positions={positions} />
            </Card>

            {/* –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ */}
            <StressTestBlock style={{ marginTop: 24 }} />

            {/* –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ */}
            <RiskConcentration
                concentration={concentration}
                style={{ marginTop: 24 }}
            />
        </div>
    );
};

export default RiskAssessment;
```

#### 2.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫

```tsx
// components/RiskMetricsCards/index.tsx

import React from 'react';
import { Row, Col, Card, Statistic, Progress } from 'antd';
import { WarningOutlined } from '@ant-design/icons';

interface RiskMetricsCardsProps {
    metrics: {
        risk_level: 'low' | 'medium' | 'high';
        risk_score: number;
        var_95: number;
        max_drawdown: number;
        volatility: number;
    };
}

const RiskMetricsCards: React.FC<RiskMetricsCardsProps> = ({ metrics }) => {
    const riskLevelText = {
        low: '–ù–ò–ó–ö–ò–ô',
        medium: '–°–†–ï–î–ù–ò–ô',
        high: '–í–´–°–û–ö–ò–ô'
    };

    const riskLevelColor = {
        low: '#52c41a',
        medium: '#faad14',
        high: '#ff4d4f'
    };

    return (
        <Row gutter={[16, 16]}>
            <Col xs={24} sm={12} lg={6}>
                <Card>
                    <Statistic
                        title="–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞"
                        value={riskLevelText[metrics.risk_level]}
                        prefix={<WarningOutlined />}
                        valueStyle={{ color: riskLevelColor[metrics.risk_level] }}
                    />
                    <Progress
                        percent={metrics.risk_score * 10}
                        strokeColor={riskLevelColor[metrics.risk_level]}
                        showInfo={false}
                    />
                </Card>
            </Col>

            <Col xs={24} sm={12} lg={6}>
                <Card>
                    <Statistic
                        title="VaR (95%)"
                        value={metrics.var_95}
                        precision={0}
                        suffix="‚ÇΩ"
                    />
                    <div style={{ fontSize: 12, color: '#8c8c8c' }}>–∑–∞ –¥–µ–Ω—å</div>
                    <div style={{ fontSize: 12, color: '#52c41a' }}>–ù–æ—Ä–º–∞: ‚úì</div>
                </Card>
            </Col>

            <Col xs={24} sm={12} lg={6}>
                <Card>
                    <Statistic
                        title="Max Drawdown"
                        value={metrics.max_drawdown}
                        precision={1}
                        suffix="%"
                        valueStyle={{ color: metrics.max_drawdown < -10 ? '#ff4d4f' : '#52c41a' }}
                    />
                    <div style={{ fontSize: 12, color: '#8c8c8c' }}>–∑–∞ –º–µ—Å—è—Ü</div>
                </Card>
            </Col>

            <Col xs={24} sm={12} lg={6}>
                <Card>
                    <Statistic
                        title="–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å"
                        value={metrics.volatility}
                        precision={1}
                        suffix="%"
                    />
                    <div style={{ fontSize: 12, color: '#8c8c8c' }}>–≥–æ–¥–æ–≤–∞—è</div>
                    <div style={{ fontSize: 12, color: '#faad14' }}>–í—ã—Å–æ–∫–∞—è: ‚ö†Ô∏è</div>
                </Card>
            </Col>
        </Row>
    );
};

export default RiskMetricsCards;
```

#### 2.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ —Ä–∏—Å–∫–∞

```tsx
// components/RiskDynamicsChart/index.tsx

import React, { useEffect, useState } from 'react';
import { Card } from 'antd';
import { Line } from '@ant-design/charts';

const RiskDynamicsChart: React.FC = () => {
    const [data, setData] = useState([]);

    useEffect(() => {
        fetchHistoricalData();
    }, []);

    const fetchHistoricalData = async () => {
        const response = await fetch('/api/risk/metrics/history/?period=1m');
        const result = await response.json();
        setData(result.map(item => ({
            date: item.calculated_at,
            value: item.risk_score
        })));
    };

    const config = {
        data,
        xField: 'date',
        yField: 'value',
        smooth: true,
        color: '#1890ff',
        point: { size: 3 },
        yAxis: {
            min: 0,
            max: 10
        }
    };

    return (
        <Card title="–ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ —Ä–∏—Å–∫–∞" bordered={false}>
            <div style={{ fontSize: 12, color: '#8c8c8c', marginBottom: 16 }}>
                –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
            </div>
            <Line {...config} />
        </Card>
    );
};

export default RiskDynamicsChart;
```

#### 2.4 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –¢–∞–±–ª–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º

```tsx
// components/PositionRisksTable/index.tsx

import React, { useState } from 'react';
import { Table, Tag, Progress, Checkbox } from 'antd';
import type { ColumnsType } from 'antd/es/table';

interface PositionRisk {
    ticker: string;
    instrument_name: string;
    current_quantity: number;
    market_value: number;
    portfolio_weight: number;
    var_95: number;
    beta: number;
    volatility: number;
    risk_level: 'low' | 'medium' | 'high';
}

const PositionRisksTable: React.FC<{ positions: PositionRisk[] }> = ({ positions }) => {
    const [filters, setFilters] = useState({
        low: true,
        medium: true,
        high: true
    });

    const riskLevelConfig = {
        low: { text: '–ù–∏–∑–∫–∏–π', color: 'success' },
        medium: { text: '–°—Ä–µ–¥–Ω–∏–π', color: 'warning' },
        high: { text: '–í—ã—Å–æ–∫–∏–π', color: 'error' }
    };

    const columns: ColumnsType<PositionRisk> = [
        {
            title: '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç',
            dataIndex: 'instrument_name',
            key: 'instrument_name',
            sorter: (a, b) => a.instrument_name.localeCompare(b.instrument_name)
        },
        {
            title: '–¢–∏–∫–µ—Ä',
            dataIndex: 'ticker',
            key: 'ticker',
            sorter: (a, b) => a.ticker.localeCompare(b.ticker)
        },
        {
            title: '–ü–æ–∑–∏—Ü–∏—è',
            dataIndex: 'current_quantity',
            key: 'current_quantity',
            sorter: (a, b) => a.current_quantity - b.current_quantity,
            render: (value) => value.toLocaleString()
        },
        {
            title: '–°—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)',
            dataIndex: 'market_value',
            key: 'market_value',
            sorter: (a, b) => a.market_value - b.market_value,
            render: (value) => value.toLocaleString('ru-RU', { minimumFractionDigits: 0 })
        },
        {
            title: '% –æ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è',
            dataIndex: 'portfolio_weight',
            key: 'portfolio_weight',
            sorter: (a, b) => a.portfolio_weight - b.portfolio_weight,
            render: (value) => (
                <Progress
                    percent={value}
                    size="small"
                    strokeColor={value > 30 ? '#ff4d4f' : '#1890ff'}
                />
            )
        },
        {
            title: 'VaR (95%)',
            dataIndex: 'var_95',
            key: 'var_95',
            sorter: (a, b) => a.var_95 - b.var_95,
            render: (value) => value.toLocaleString('ru-RU')
        },
        {
            title: 'Beta',
            dataIndex: 'beta',
            key: 'beta',
            sorter: (a, b) => a.beta - b.beta,
            render: (value) => value.toFixed(2)
        },
        {
            title: '–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (%)',
            dataIndex: 'volatility',
            key: 'volatility',
            sorter: (a, b) => a.volatility - b.volatility,
            render: (value) => `${value.toFixed(1)}%`
        },
        {
            title: '–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞',
            dataIndex: 'risk_level',
            key: 'risk_level',
            sorter: (a, b) => a.risk_level.localeCompare(b.risk_level),
            render: (level: 'low' | 'medium' | 'high') => (
                <Tag color={riskLevelConfig[level].color}>
                    {riskLevelConfig[level].text}
                </Tag>
            )
        }
    ];

    const filteredData = positions.filter(pos => filters[pos.risk_level]);

    return (
        <div>
            <div style={{ marginBottom: 16 }}>
                <span style={{ marginRight: 16 }}>–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞:</span>
                <Checkbox
                    checked={filters.low}
                    onChange={e => setFilters({ ...filters, low: e.target.checked })}
                >
                    –ù–∏–∑–∫–∏–π
                </Checkbox>
                <Checkbox
                    checked={filters.medium}
                    onChange={e => setFilters({ ...filters, medium: e.target.checked })}
                >
                    –°—Ä–µ–¥–Ω–∏–π
                </Checkbox>
                <Checkbox
                    checked={filters.high}
                    onChange={e => setFilters({ ...filters, high: e.target.checked })}
                >
                    –í—ã—Å–æ–∫–∏–π
                </Checkbox>
            </div>

            <Table
                columns={columns}
                dataSource={filteredData}
                rowKey="ticker"
                pagination={{ pageSize: 10 }}
                rowClassName={(record) =>
                    record.risk_level === 'high' ? styles.highRiskRow : ''
                }
            />
        </div>
    );
};

export default PositionRisksTable;
```

#### 2.5 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```tsx
// components/StressTestBlock/index.tsx

import React, { useState } from 'react';
import { Card, Select, Button, InputNumber, Row, Col, Statistic, Table, message } from 'antd';
import { PlayCircleOutlined, DownloadOutlined } from '@ant-design/icons';

const StressTestBlock: React.FC = () => {
    const [scenario, setScenario] = useState('market_drop_20');
    const [customMarket, setCustomMarket] = useState(-10);
    const [customVolatility, setCustomVolatility] = useState(1);
    const [loading, setLoading] = useState(false);
    const [results, setResults] = useState(null);

    const scenarios = [
        { value: 'market_drop_10', label: '–ü–∞–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 10%' },
        { value: 'market_drop_20', label: '–ü–∞–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 20%' },
        { value: 'market_drop_30', label: '–ü–∞–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 30%' },
        { value: 'volatility_2x', label: '–†–æ—Å—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ 2 —Ä–∞–∑–∞' },
        { value: 'crisis_2008', label: '–ö—Ä–∏–∑–∏—Å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π 2008' },
        { value: 'custom', label: '–ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π' }
    ];

    const runStressTest = async () => {
        setLoading(true);
        try {
            const response = await fetch('/api/risk/stress-test/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    scenario_type: scenario,
                    market_change: scenario === 'custom' ? customMarket : null,
                    volatility_change: scenario === 'custom' ? customVolatility : null
                })
            });
            const data = await response.json();
            setResults(data);
            message.success('–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω');
        } catch (error) {
            message.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–∞');
        } finally {
            setLoading(false);
        }
    };

    const exportResults = async () => {
        window.open(`/api/risk/stress-test/${results.id}/export/?format=pdf`);
    };

    const columns = [
        {
            title: '–¢–∏–∫–µ—Ä',
            dataIndex: 'ticker',
            key: 'ticker'
        },
        {
            title: '–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å',
            dataIndex: 'current_value',
            key: 'current_value',
            render: (val) => `${val.toLocaleString()} ‚ÇΩ`
        },
        {
            title: '–ü—Ä–æ–≥–Ω–æ–∑',
            dataIndex: 'projected_value',
            key: 'projected_value',
            render: (val) => `${val.toLocaleString()} ‚ÇΩ`
        },
        {
            title: '–ò–∑–º–µ–Ω–µ–Ω–∏–µ',
            dataIndex: 'loss',
            key: 'loss',
            render: (val) => (
                <span style={{ color: val < 0 ? '#ff4d4f' : '#52c41a' }}>
                    {val < 0 ? '' : '+'}{val.toLocaleString()} ‚ÇΩ
                </span>
            )
        }
    ];

    return (
        <Card title="–°–¢–†–ï–°–°-–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï" bordered={false}>
            <Row gutter={[16, 16]}>
                <Col span={24}>
                    <div style={{ marginBottom: 16 }}>
                        <label>–í—ã–±–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è:</label>
                        <Select
                            value={scenario}
                            onChange={setScenario}
                            style={{ width: '100%', marginTop: 8 }}
                            options={scenarios}
                        />
                    </div>
                </Col>

                {scenario === 'custom' && (
                    <>
                        <Col span={12}>
                            <label>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ (%):</label>
                            <InputNumber
                                value={customMarket}
                                onChange={setCustomMarket}
                                style={{ width: '100%', marginTop: 8 }}
                                min={-100}
                                max={100}
                            />
                        </Col>
                        <Col span={12}>
                            <label>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (x):</label>
                            <InputNumber
                                value={customVolatility}
                                onChange={setCustomVolatility}
                                style={{ width: '100%', marginTop: 8 }}
                                min={0.1}
                                max={10}
                                step={0.1}
                            />
                        </Col>
                    </>
                )}

                <Col span={24}>
                    <Button
                        type="primary"
                        icon={<PlayCircleOutlined />}
                        onClick={runStressTest}
                        loading={loading}
                        size="large"
                    >
                        –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
                    </Button>
                </Col>
            </Row>

            {results && (
                <Card
                    style={{ marginTop: 24, backgroundColor: '#fafafa' }}
                    title="–†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ê"
                    extra={
                        <Button icon={<DownloadOutlined />} onClick={exportResults}>
                            –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                        </Button>
                    }
                >
                    <div style={{ marginBottom: 16 }}>
                        –°—Ü–µ–Ω–∞—Ä–∏–π: <strong>{scenarios.find(s => s.value === scenario)?.label}</strong>
                    </div>

                    <Row gutter={16} style={{ marginBottom: 24 }}>
                        <Col span={12}>
                            <Statistic
                                title="–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —É–±—ã—Ç–æ–∫"
                                value={results.potential_loss}
                                precision={0}
                                suffix="‚ÇΩ"
                                valueStyle={{ color: '#ff4d4f' }}
                            />
                            <div>({results.loss_percentage.toFixed(1)}%)</div>
                        </Col>
                        <Col span={12}>
                            <Statistic
                                title="–ù–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è"
                                value={results.projected_portfolio_value}
                                precision={0}
                                suffix="‚ÇΩ"
                            />
                        </Col>
                    </Row>

                    <div style={{ marginTop: 16 }}>
                        <strong>–í–ª–∏—è–Ω–∏–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏:</strong>
                        <Table
                            columns={columns}
                            dataSource={results.position_details}
                            pagination={false}
                            size="small"
                            style={{ marginTop: 8 }}
                        />
                    </div>
                </Card>
            )}
        </Card>
    );
};

export default StressTestBlock;
```

#### 2.6 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Ä–∏—Å–∫–∞

```tsx
// components/RiskConcentration/index.tsx

import React from 'react';
import { Card, Alert, Row, Col } from 'antd';
import { Column } from '@ant-design/charts';

interface ConcentrationProps {
    concentration: {
        by_sector: Record<string, number>;
        by_instrument: Record<string, number>;
        violations: Array<{
            type: string;
            name: string;
            limit: number;
            actual: number;
        }>;
    };
}

const RiskConcentration: React.FC<ConcentrationProps> = ({ concentration }) => {
    const sectorData = Object.entries(concentration.by_sector).map(([name, value]) => ({
        category: name,
        value
    }));

    const instrumentData = Object.entries(concentration.by_instrument).map(([name, value]) => ({
        category: name,
        value
    }));

    const chartConfig = {
        xField: 'category',
        yField: 'value',
        label: {
            position: 'top',
            style: { fill: '#000' }
        },
        yAxis: {
            label: {
                formatter: (v) => `${v}%`
            }
        }
    };

    return (
        <Card title="–ö–û–ù–¶–ï–ù–¢–†–ê–¶–ò–Ø –†–ò–°–ö–ê" bordered={false}>
            {concentration.violations.length > 0 && (
                <Alert
                    message="‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è"
                    description={
                        <ul>
                            {concentration.violations.map((v, idx) => (
                                <li key={idx}>
                                    <strong>{v.name}</strong> —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç {v.actual}%
                                    (–ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç {v.limit}%)
                                </li>
                            ))}
                        </ul>
                    }
                    type="warning"
                    showIcon
                    style={{ marginBottom: 24 }}
                />
            )}

            <Row gutter={[16, 16]}>
                <Col span={12}>
                    <h4>–ü–æ —Å–µ–∫—Ç–æ—Ä–∞–º</h4>
                    <Column data={sectorData} {...chartConfig} />
                </Col>
                <Col span={12}>
                    <h4>–ü–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º</h4>
                    <Column data={instrumentData} {...chartConfig} />
                </Col>
            </Row>
        </Card>
    );
};

export default RiskConcentration;
```

---

### 3. –°–¢–†–ê–ù–ò–¶–ê: –õ–ò–ú–ò–¢–´ –†–ò–°–ö–ê

#### 3.1 Layout

```tsx
// pages/RiskLimits/index.tsx

import React, { useState, useEffect } from 'react';
import { Card, Tabs, Button, message } from 'antd';
import { SaveOutlined, ReloadOutlined, DownloadOutlined, UploadOutlined } from '@ant-design/icons';
import GlobalLimitsForm from './components/GlobalLimitsForm';
import InstrumentLimitsTable from './components/InstrumentLimitsTable';
import ViolationsMonitor from './components/ViolationsMonitor';
import NotificationSettings from './components/NotificationSettings';

const RiskLimits: React.FC = () => {
    const [activeTab, setActiveTab] = useState('global');
    const [hasChanges, setHasChanges] = useState(false);

    const handleSaveAll = async () => {
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
        message.success('–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
        setHasChanges(false);
    };

    const handleReset = () => {
        // –°–±—Ä–æ—Å–∏—Ç—å –¥–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        message.info('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã');
        setHasChanges(false);
    };

    const handleExport = () => {
        window.open('/api/risk/export/settings/');
    };

    const handleImport = () => {
        // –û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
    };

    const tabs = [
        {
            key: 'global',
            label: '–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã',
            children: <GlobalLimitsForm onChange={() => setHasChanges(true)} />
        },
        {
            key: 'instruments',
            label: '–õ–∏–º–∏—Ç—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º',
            children: <InstrumentLimitsTable onChange={() => setHasChanges(true)} />
        },
        {
            key: 'violations',
            label: '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Ä—É—à–µ–Ω–∏–π',
            children: <ViolationsMonitor />
        },
        {
            key: 'notifications',
            label: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
            children: <NotificationSettings onChange={() => setHasChanges(true)} />
        }
    ];

    return (
        <div>
            <Card
                title="–õ–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞"
                extra={
                    <div>
                        <Button
                            type="primary"
                            icon={<SaveOutlined />}
                            onClick={handleSaveAll}
                            disabled={!hasChanges}
                            style={{ marginRight: 8 }}
                        >
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
                        </Button>
                        <Button
                            icon={<ReloadOutlined />}
                            onClick={handleReset}
                            style={{ marginRight: 8 }}
                        >
                            –°–±—Ä–æ—Å–∏—Ç—å
                        </Button>
                        <Button
                            icon={<DownloadOutlined />}
                            onClick={handleExport}
                            style={{ marginRight: 8 }}
                        >
                            –≠–∫—Å–ø–æ—Ä—Ç
                        </Button>
                        <Button icon={<UploadOutlined />} onClick={handleImport}>
                            –ò–º–ø–æ—Ä—Ç
                        </Button>
                    </div>
                }
            >
                <Tabs activeKey={activeTab} onChange={setActiveTab} items={tabs} />
            </Card>
        </div>
    );
};

export default RiskLimits;
```

#### 3.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã

```tsx
// components/GlobalLimitsForm/index.tsx

import React, { useState, useEffect } from 'react';
import { Form, InputNumber, Row, Col, Alert } from 'antd';
import { CheckCircleOutlined, WarningOutlined } from '@ant-design/icons';

interface GlobalLimitsFormProps {
    onChange: () => void;
}

const GlobalLimitsForm: React.FC<GlobalLimitsFormProps> = ({ onChange }) => {
    const [form] = Form.useForm();
    const [limits, setLimits] = useState(null);
    const [currentValues, setCurrentValues] = useState(null);

    useEffect(() => {
        fetchLimits();
    }, []);

    const fetchLimits = async () => {
        const response = await fetch('/api/risk/limits/global/');
        const data = await response.json();
        setLimits(data);
        setCurrentValues(data.current_values);
        form.setFieldsValue(data);
    };

    const handleValuesChange = () => {
        onChange();
    };

    const renderStatus = (current, limit, isInverted = false) => {
        const violated = isInverted ? current < limit : current > limit;
        return violated ? (
            <span style={{ color: '#ff4d4f' }}>
                <WarningOutlined /> –ü–†–ï–í–´–®–ï–ù
            </span>
        ) : (
            <span style={{ color: '#52c41a' }}>
                <CheckCircleOutlined /> –í –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
            </span>
        );
    };

    if (!limits) return null;

    return (
        <Form
            form={form}
            layout="vertical"
            onValuesChange={handleValuesChange}
        >
            <Row gutter={16}>
                <Col span={24}>
                    <Form.Item
                        label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è (%)"
                        name="max_drawdown"
                    >
                        <InputNumber min={0} max={100} style={{ width: '100%' }} />
                    </Form.Item>
                    <div style={{ marginTop: -16, marginBottom: 16, fontSize: 12 }}>
                        –¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞: {currentValues.drawdown}% {' '}
                        {renderStatus(Math.abs(currentValues.drawdown), limits.max_drawdown)}
                    </div>
                </Col>

                <Col span={24}>
                    <Form.Item
                        label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (% –æ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è)"
                        name="max_position_size"
                    >
                        <InputNumber min={0} max={100} style={{ width: '100%' }} />
                    </Form.Item>
                    <div style={{ marginTop: -16, marginBottom: 16, fontSize: 12 }}>
                        –°–∞–º–∞—è –±–æ–ª—å—à–∞—è –ø–æ–∑–∏—Ü–∏—è: SBER ({currentValues.max_position}%) {' '}
                        {renderStatus(currentValues.max_position, limits.max_position_size)}
                    </div>
                </Col>

                <Col span={24}>
                    <Form.Item
                        label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ"
                        name="max_leverage"
                    >
                        <InputNumber min={1} max={10} step={0.1} style={{ width: '100%' }} />
                    </Form.Item>
                    <div style={{ marginTop: -16, marginBottom: 16, fontSize: 12 }}>
                        –¢–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ: {currentValues.leverage}x {' '}
                        {renderStatus(currentValues.leverage, limits.max_leverage)}
                    </div>
                </Col>

                <Col span={24}>
                    <Form.Item
                        label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –≤ –æ–¥–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ (%)"
                        name="max_sector_concentration"
                    >
                        <InputNumber min={0} max={100} style={{ width: '100%' }} />
                    </Form.Item>
                    <div style={{ marginTop: -16, marginBottom: 16, fontSize: 12 }}>
                        –ù–µ—Ñ—Ç–µ–≥–∞–∑: {currentValues.max_sector}% {' '}
                        {renderStatus(currentValues.max_sector, limits.max_sector_concentration)}
                    </div>
                </Col>

                <Col span={24}>
                    <Form.Item
                        label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π VaR –∑–∞ –¥–µ–Ω—å (‚ÇΩ)"
                        name="max_var_daily"
                    >
                        <InputNumber min={0} style={{ width: '100%' }} />
                    </Form.Item>
                    <div style={{ marginTop: -16, marginBottom: 16, fontSize: 12 }}>
                        –¢–µ–∫—É—â–∏–π VaR: {currentValues.var.toLocaleString()} ‚ÇΩ {' '}
                        {renderStatus(currentValues.var, limits.max_var_daily)}
                    </div>
                </Col>
            </Row>
        </Form>
    );
};

export default GlobalLimitsForm;
```

#### 3.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –¢–∞–±–ª–∏—Ü–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º

```tsx
// components/InstrumentLimitsTable/index.tsx

import React, { useState, useEffect } from 'react';
import { Table, Button, Space, Popconfirm, message, Tag } from 'antd';
import { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';
import LimitModal from '../LimitModal';

interface InstrumentLimitsTableProps {
    onChange: () => void;
}

const InstrumentLimitsTable: React.FC<InstrumentLimitsTableProps> = ({ onChange }) => {
    const [limits, setLimits] = useState([]);
    const [modalVisible, setModalVisible] = useState(false);
    const [editingLimit, setEditingLimit] = useState(null);

    useEffect(() => {
        fetchLimits();
    }, []);

    const fetchLimits = async () => {
        const response = await fetch('/api/risk/limits/instruments/');
        const data = await response.json();
        setLimits(data);
    };

    const handleAdd = () => {
        setEditingLimit(null);
        setModalVisible(true);
    };

    const handleEdit = (record) => {
        setEditingLimit(record);
        setModalVisible(true);
    };

    const handleDelete = async (id) => {
        await fetch(`/api/risk/limits/instruments/${id}/`, {
            method: 'DELETE'
        });
        message.success('–õ–∏–º–∏—Ç —É–¥–∞–ª–µ–Ω');
        fetchLimits();
        onChange();
    };

    const handleModalOk = async (values) => {
        if (editingLimit) {
            await fetch(`/api/risk/limits/instruments/${editingLimit.id}/`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(values)
            });
            message.success('–õ–∏–º–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω');
        } else {
            await fetch('/api/risk/limits/instruments/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(values)
            });
            message.success('–õ–∏–º–∏—Ç —Å–æ–∑–¥–∞–Ω');
        }

        setModalVisible(false);
        fetchLimits();
        onChange();
    };

    const columns = [
        {
            title: '–¢–∏–∫–µ—Ä',
            dataIndex: 'ticker',
            key: 'ticker'
        },
        {
            title: '–ú–∞–∫—Å. –≤–µ—Å (%)',
            dataIndex: 'max_weight',
            key: 'max_weight',
            render: (val) => `${val}%`
        },
        {
            title: '–ú–∞–∫—Å. –ø–æ–∑–∏—Ü–∏—è (–ª–æ—Ç—ã)',
            dataIndex: 'max_position',
            key: 'max_position'
        },
        {
            title: 'Stop-loss (%)',
            dataIndex: 'stop_loss',
            key: 'stop_loss',
            render: (val) => `${val}%`
        },
        {
            title: '–¢–µ–∫—É—â–∏–π –≤–µ—Å',
            dataIndex: 'current_weight',
            key: 'current_weight',
            render: (val, record) => (
                <span>
                    {val}% {' '}
                    {record.is_violated && (
                        <Tag color="error">‚ö†Ô∏è</Tag>
                    )}
                </span>
            )
        },
        {
            title: '–î–µ–π—Å—Ç–≤–∏—è',
            key: 'actions',
            render: (_, record) => (
                <Space>
                    <Button
                        icon={<EditOutlined />}
                        size="small"
                        onClick={() => handleEdit(record)}
                    />
                    <Popconfirm
                        title="–£–¥–∞–ª–∏—Ç—å –ª–∏–º–∏—Ç?"
                        onConfirm={() => handleDelete(record.id)}
                    >
                        <Button
                            icon={<DeleteOutlined />}
                            size="small"
                            danger
                        />
                    </Popconfirm>
                </Space>
            )
        }
    ];

    return (
        <div>
            <Button
                type="primary"
                icon={<PlusOutlined />}
                onClick={handleAdd}
                style={{ marginBottom: 16 }}
            >
                –î–æ–±–∞–≤–∏—Ç—å –ª–∏–º–∏—Ç
            </Button>

            <Table
                columns={columns}
                dataSource={limits}
                rowKey="id"
                pagination={false}
            />

            <LimitModal
                visible={modalVisible}
                editingLimit={editingLimit}
                onOk={handleModalOk}
                onCancel={() => setModalVisible(false)}
            />
        </div>
    );
};

export default InstrumentLimitsTable;
```

#### 3.4 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ú–æ–¥–∞–ª–∫–∞ –ª–∏–º–∏—Ç–∞

```tsx
// components/LimitModal/index.tsx

import React from 'react';
import { Modal, Form, Select, InputNumber } from 'antd';

interface LimitModalProps {
    visible: boolean;
    editingLimit: any;
    onOk: (values: any) => void;
    onCancel: () => void;
}

const LimitModal: React.FC<LimitModalProps> = ({ visible, editingLimit, onOk, onCancel }) => {
    const [form] = Form.useForm();

    React.useEffect(() => {
        if (visible) {
            if (editingLimit) {
                form.setFieldsValue(editingLimit);
            } else {
                form.resetFields();
            }
        }
    }, [visible, editingLimit]);

    const handleOk = () => {
        form.validateFields().then(values => {
            onOk(values);
        });
    };

    return (
        <Modal
            title={editingLimit ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç' : '–î–æ–±–∞–≤–∏—Ç—å –ª–∏–º–∏—Ç'}
            open={visible}
            onOk={handleOk}
            onCancel={onCancel}
            okText="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
            cancelText="–û—Ç–º–µ–Ω–∞"
        >
            <Form form={form} layout="vertical">
                <Form.Item
                    label="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
                    name="ticker"
                    rules={[{ required: true, message: '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç' }]}
                >
                    <Select
                        showSearch
                        placeholder="–ü–æ–∏—Å–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞"
                        disabled={!!editingLimit}
                    >
                        <Select.Option value="SBER">SBER - –°–±–µ—Ä–±–∞–Ω–∫</Select.Option>
                        <Select.Option value="GAZP">GAZP - –ì–∞–∑–ø—Ä–æ–º</Select.Option>
                        <Select.Option value="LKOH">LKOH - –õ—É–∫–æ–π–ª</Select.Option>
                        {/* –î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ */}
                    </Select>
                </Form.Item>

                <Form.Item
                    label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å (%)"
                    name="max_weight"
                    rules={[{ required: true, message: '–£–∫–∞–∂–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å' }]}
                >
                    <InputNumber min={0} max={100} style={{ width: '100%' }} />
                </Form.Item>

                <Form.Item
                    label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ª–æ—Ç—ã)"
                    name="max_position"
                    rules={[{ required: true, message: '–£–∫–∞–∂–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é' }]}
                >
                    <InputNumber min={1} style={{ width: '100%' }} />
                </Form.Item>

                <Form.Item
                    label="Stop-loss (%)"
                    name="stop_loss"
                    rules={[{ required: true, message: '–£–∫–∞–∂–∏—Ç–µ stop-loss' }]}
                >
                    <InputNumber min={-100} max={0} style={{ width: '100%' }} />
                </Form.Item>
            </Form>
        </Modal>
    );
};

export default LimitModal;
```

#### 3.5 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Ä—É—à–µ–Ω–∏–π

```tsx
// components/ViolationsMonitor/index.tsx

import React, { useState, useEffect } from 'react';
import { Alert, Table, Button, Tag, Space } from 'antd';
import { HistoryOutlined } from '@ant-design/icons';
import moment from 'moment';

const ViolationsMonitor: React.FC = () => {
    const [violations, setViolations] = useState([]);

    useEffect(() => {
        fetchViolations();
        const interval = setInterval(fetchViolations, 60000); // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
        return () => clearInterval(interval);
    }, []);

    const fetchViolations = async () => {
        const response = await fetch('/api/risk/violations/?status=active');
        const data = await response.json();
        setViolations(data);
    };

    const violationTypeText = {
        max_weight: '–ü—Ä–µ–≤—ã—à–µ–Ω –º–∞–∫—Å. –≤–µ—Å',
        max_position: '–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –º–∞–∫—Å. –ø–æ–∑–∏—Ü–∏—è',
        stop_loss: '–î–æ—Å—Ç–∏–≥–Ω—É—Ç stop-loss',
        max_drawdown: '–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –ø—Ä–æ—Å–∞–¥–∫–∞',
        max_leverage: '–ü—Ä–µ–≤—ã—à–µ–Ω–æ –ø–ª–µ—á–æ',
        sector_concentration: '–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Å–µ–∫—Ç–æ—Ä–∞',
        max_var: '–ü—Ä–µ–≤—ã—à–µ–Ω VaR'
    };

    const columns = [
        {
            title: '–î–∞—Ç–∞/–≤—Ä–µ–º—è',
            dataIndex: 'detected_at',
            key: 'detected_at',
            render: (date) => moment(date).format('DD.MM.YYYY HH:mm')
        },
        {
            title: '–¢–∏–ø',
            dataIndex: 'violation_type',
            key: 'violation_type',
            render: (type) => violationTypeText[type]
        },
        {
            title: '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/–°–µ–∫—Ç–æ—Ä',
            key: 'target',
            render: (_, record) => record.ticker || record.sector || '-'
        },
        {
            title: '–õ–∏–º–∏—Ç',
            dataIndex: 'limit_value',
            key: 'limit_value',
            render: (val) => `${val}%`
        },
        {
            title: '–§–∞–∫—Ç',
            dataIndex: 'actual_value',
            key: 'actual_value',
            render: (val) => `${val}%`
        },
        {
            title: '–°—Ç–∞—Ç—É—Å',
            dataIndex: 'status',
            key: 'status',
            render: (status) => (
                <Tag color={status === 'active' ? 'error' : 'success'}>
                    {status === 'active' ? 'üî¥ –ê–ö–¢–ò–í–ù–û' : '‚úì –£–°–¢–†–ê–ù–ï–ù–û'}
                </Tag>
            )
        }
    ];

    return (
        <div>
            {violations.length > 0 && (
                <Alert
                    message={`‚ö†Ô∏è –ê–ö–¢–ò–í–ù–´–ï –ù–ê–†–£–®–ï–ù–ò–Ø –õ–ò–ú–ò–¢–û–í (${violations.length})`}
                    type="error"
                    showIcon
                    style={{ marginBottom: 16 }}
                />
            )}

            <Table
                columns={columns}
                dataSource={violations}
                rowKey="id"
                pagination={false}
            />

            <Button
                icon={<HistoryOutlined />}
                style={{ marginTop: 16 }}
                onClick={() => window.location.href = '/risk-limits/violations/history'}
            >
                –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π
            </Button>
        </div>
    );
};

export default ViolationsMonitor;
```

#### 3.6 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```tsx
// components/NotificationSettings/index.tsx

import React, { useState, useEffect } from 'react';
import { Card, Form, Switch, Input, Space } from 'antd';

interface NotificationSettingsProps {
    onChange: () => void;
}

const NotificationSettings: React.FC<NotificationSettingsProps> = ({ onChange }) => {
    const [form] = Form.useForm();

    useEffect(() => {
        fetchSettings();
    }, []);

    const fetchSettings = async () => {
        const response = await fetch('/api/risk/notifications/settings/');
        const data = await response.json();
        form.setFieldsValue(data);
    };

    const handleValuesChange = () => {
        onChange();
    };

    return (
        <Card title="–ù–ê–°–¢–†–û–ô–ö–ò –£–í–ï–î–û–ú–õ–ï–ù–ò–ô –û –†–ò–°–ö–ê–•">
            <Form
                form={form}
                layout="vertical"
                onValuesChange={handleValuesChange}
            >
                <Space direction="vertical" style={{ width: '100%' }} size="large">
                    <div>
                        <h4>–ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h4>
                        <Form.Item name="email_enabled" valuePropName="checked">
                            <Switch /> Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                        </Form.Item>
                        <Form.Item name="push_enabled" valuePropName="checked">
                            <Switch /> Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
                        </Form.Item>
                        <Form.Item name="telegram_enabled" valuePropName="checked">
                            <Switch /> Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                        </Form.Item>
                        <Form.Item
                            name="telegram_chat_id"
                            label="Telegram Chat ID"
                            dependencies={['telegram_enabled']}
                        >
                            <Input placeholder="123456789" />
                        </Form.Item>
                    </div>

                    <div>
                        <h4>–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ:</h4>
                        <Form.Item name="notify_limit_violation" valuePropName="checked">
                            <Switch /> –ü—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤
                        </Form.Item>
                        <Form.Item name="notify_critical_risk" valuePropName="checked">
                            <Switch /> –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º —É—Ä–æ–≤–Ω–µ —Ä–∏—Å–∫–∞
                        </Form.Item>
                        <Form.Item name="notify_approaching_stop_loss" valuePropName="checked">
                            <Switch /> –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ stop-loss
                        </Form.Item>
                        <Form.Item name="notify_volatility_change" valuePropName="checked">
                            <Switch /> –ò–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
                        </Form.Item>
                    </div>
                </Space>
            </Form>
        </Card>
    );
};

export default NotificationSettings;
```

---

### 4. REDUX STATE

```typescript
// store/risk/types.ts

export interface RiskMetrics {
    risk_level: 'low' | 'medium' | 'high';
    risk_score: number;
    var_95: number;
    max_drawdown: number;
    volatility: number;
    calculated_at: string;
}

export interface PositionRisk {
    ticker: string;
    instrument_name: string;
    current_quantity: number;
    market_value: number;
    portfolio_weight: number;
    var_95: number;
    beta: number;
    volatility: number;
    risk_level: 'low' | 'medium' | 'high';
}

export interface RiskState {
    metrics: RiskMetrics | null;
    positions: PositionRisk[];
    concentration: any;
    violations: any[];
    loading: boolean;
    error: string | null;
}

// store/risk/slice.ts

import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';

export const fetchRiskMetrics = createAsyncThunk(
    'risk/fetchMetrics',
    async () => {
        const response = await fetch('/api/risk/metrics/');
        return response.json();
    }
);

// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö thunks...

const riskSlice = createSlice({
    name: 'risk',
    initialState: {
        metrics: null,
        positions: [],
        concentration: null,
        violations: [],
        loading: false,
        error: null
    },
    reducers: {},
    extraReducers: (builder) => {
        builder
            .addCase(fetchRiskMetrics.pending, (state) => {
                state.loading = true;
            })
            .addCase(fetchRiskMetrics.fulfilled, (state, action) => {
                state.loading = false;
                state.metrics = action.payload;
            })
            .addCase(fetchRiskMetrics.rejected, (state, action) => {
                state.loading = false;
                state.error = action.error.message;
            });
    }
});

export default riskSlice.reducer;
```

---

### 5. –°–¢–ò–õ–ò (SCSS)

```scss
// RiskAssessment.module.scss

.riskAssessment {
    padding: 24px;

    .highRiskRow {
        background-color: rgba(255, 77, 79, 0.1);

        &:hover {
            background-color: rgba(255, 77, 79, 0.15) !important;
        }
    }
}

// RiskLimits.module.scss

.riskLimits {
    padding: 24px;

    .violationAlert {
        margin-bottom: 16px;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }
}
```

---

### 6. ROUTING

```tsx
// app/router.tsx

import RiskAssessment from '@/pages/RiskAssessment';
import RiskLimits from '@/pages/RiskLimits';

const routes = [
    // ...–¥—Ä—É–≥–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã
    {
        path: '/risk-profile/assessment',
        element: <RiskAssessment />
    },
    {
        path: '/risk-profile/limits',
        element: <RiskLimits />
    }
];
```

---

## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞ –Ω–∞ 5 –º–∏–Ω—É—Ç
- Lazy loading –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ —Ç–∞–±–ª–∏—Ü
- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü (>100 —Å—Ç—Ä–æ–∫)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Rate limiting –¥–ª—è API (10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –¥–ª—è —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–æ–≤)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤
- –ê–ª–µ—Ä—Ç—ã –≤ —Å–ª—É—á–∞–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∏—Å–∫–∞
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Integration-—Ç–µ—Å—Ç—ã –¥–ª—è API endpoints
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**
