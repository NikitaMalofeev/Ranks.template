# Login Setup - Quick Start

## ‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **–¢–æ–∫–µ–Ω–∞ –ù–ï–¢** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
2. **–¢–æ–∫–µ–Ω –ï–°–¢–¨** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/admin`

### –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –Ω–∞ `/login`
2. –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω –æ—Ç API
3. –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Redux Persist (localStorage)
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç** –Ω–∞ `/admin`

### –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- Redux Persist **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç** —Ç–æ–∫–µ–Ω –∏–∑ localStorage
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å ‚Üí —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `/admin`
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `/login`

---

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API
- **Endpoint**: `https://test.webbroker.ranks.pro/main/robo/admin_login/`
- –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `src/shared/config/api.config.ts`
- –°–æ–∑–¥–∞–Ω axios interceptor –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∫–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º

### 2. Redux State Management
- **userSlice** (`src/entities/User/slice/userSlice.ts`):
  - `loginThunk` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π thunk –¥–ª—è –ª–æ–≥–∏–Ω–∞
  - `logout` - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
  - –°–æ—Å—Ç–æ—è–Ω–∏–µ: `token`, `userId`, `isAuthenticated`, `isLoading`, `error`

### 3. Axios Interceptor
- **–§–∞–π–ª**: `src/shared/api/axios.config.ts`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É `Authorization: Bearer <token>`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ 401 (Unauthorized)

### 4. Login Page
- **–§–∞–π–ª**: `src/pages/LoginPage/LoginPage.tsx`
- –§–æ—Ä–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞
- –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - Username: `admin`
  - Password: `YXL%jhR2|KCVb4@wF7D~TK#7cgbdZ#vZ`

### 5. Route Protection
- AdminPage —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω–∞ —á–µ—Ä–µ–∑ `RequireAuthRoute`
- –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ `/login`

### 6. Token Persistence
- –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redux Persist
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
npm run dev
```

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5173`
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ `/login`
3. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **Username**: `admin`
   - **Password**: `YXL%jhR2|KCVb4@wF7D~TK#7cgbdZ#vZ`
4. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ `/admin`

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5173`
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ `/admin` (—Ç–æ–∫–µ–Ω –∏–∑ localStorage)
3. –í—Ö–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

### –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Logout" –≤ Header
2. –¢–æ–∫–µ–Ω —É–¥–∞–ª–µ–Ω –∏–∑ localStorage
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ `/login`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
localStorage.getItem('persist:root')
// –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ JSON
```

## –ö–∞–∫ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ç–æ–∫–µ–Ω–æ–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ apiClient

```typescript
import { apiClient } from 'shared/api/axios.config';

// –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—Å—è –∫ –∑–∞–ø—Ä–æ—Å—É
const fetchData = async () => {
  const response = await apiClient.get('/main/robo/some-endpoint/');
  return response.data;
};

// POST –∑–∞–ø—Ä–æ—Å
const createData = async (data: any) => {
  const response = await apiClient.post('/main/robo/create-endpoint/', data);
  return response.data;
};
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API –º–µ—Ç–æ–¥–∞

```typescript
// src/entities/YourEntity/api/yourEntityApi.ts
import { apiClient } from 'shared/api/axios.config';

export const yourEntityApi = {
  getData: async () => {
    const response = await apiClient.get('/main/robo/your-endpoint/');
    return response.data;
  },
};
```

### –°–æ–∑–¥–∞–Ω–∏–µ Redux thunk

```typescript
// src/entities/YourEntity/slice/yourEntitySlice.ts
import { createAsyncThunk } from '@reduxjs/toolkit';
import { yourEntityApi } from '../api/yourEntityApi';
import { RootState } from 'app/providers/store/config/store';

export const fetchDataThunk = createAsyncThunk<
  YourDataType,
  void,
  { state: RootState; rejectValue: string }
>(
  'yourEntity/fetchData',
  async (_, { rejectWithValue }) => {
    try {
      return await yourEntityApi.getData();
    } catch (error: any) {
      return rejectWithValue(error.message);
    }
  }
);
```

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ axios.config.ts          # Axios interceptor
‚îÇ   ‚îî‚îÄ‚îÄ config/
‚îÇ       ‚îî‚îÄ‚îÄ api.config.ts             # API endpoints
‚îú‚îÄ‚îÄ entities/
‚îÇ   ‚îî‚îÄ‚îÄ User/
‚îÇ       ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ userApi.ts            # User API methods
‚îÇ       ‚îú‚îÄ‚îÄ slice/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ userSlice.ts          # Redux slice
‚îÇ       ‚îî‚îÄ‚îÄ types/
‚îÇ           ‚îî‚îÄ‚îÄ user.types.ts         # TypeScript types
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ LoginPage/
‚îÇ       ‚îî‚îÄ‚îÄ LoginPage.tsx             # Login page component
‚îî‚îÄ‚îÄ app/
    ‚îî‚îÄ‚îÄ providers/
        ‚îî‚îÄ‚îÄ router/
            ‚îî‚îÄ‚îÄ ui/
                ‚îú‚îÄ‚îÄ RequireAuth.tsx   # Route protection
                ‚îî‚îÄ‚îÄ AppRouter.tsx     # Router config
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–§–∞–π–ª `.env`:

```env
VITE_API_BASE_URL=https://test.webbroker.ranks.pro
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è** –∫–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º —á–µ—Ä–µ–∑ `apiClient`
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `apiClient`**, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π `axios`, –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ç–æ–∫–µ–Ω–æ–º
3. **Redux Persist** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ localStorage
4. **RequireAuth** –∑–∞—â–∏—â–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
5. **Logout** –æ—á–∏—â–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/login`

## –õ–æ–≥–∏–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤

```
–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ Redux Persist
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –¢–æ–∫–µ–Ω –µ—Å—Ç—å    ‚îÇ –¢–æ–∫–µ–Ω–∞ –Ω–µ—Ç    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚Üì               ‚Üì
    /admin          /login
        ‚Üì               ‚Üì
   AdminPage      –í–≤–æ–¥ –ª–æ–≥–∏–Ω–∞
                       ‚Üì
                  –ü–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω
                       ‚Üì
                  –°–æ—Ö—Ä–∞–Ω–µ–Ω –≤ localStorage
                       ‚Üì
                   /admin
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `REDIRECT_LOGIC.md` - **–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ö–µ–º–∞** –ª–æ–≥–∏–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
- `AUTHENTICATION.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `ARCHITECTURE.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (FSD)
- `CLAUDE_INSTRUCTIONS.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è:

```bash
npm run build
# ‚úì built in 5.51s
```

## –í–∞–∂–Ω–æ!

‚úÖ **–¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
‚úÖ **Redux Persist —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω** –≤ localStorage
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã** —Ä–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ
‚úÖ **–ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–∫–µ–Ω** –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
